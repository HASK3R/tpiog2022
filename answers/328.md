**328. Что такое — «локаль», и каково ее назначение?**  

```std::locale``` - это объект, позволяющий учитывать культурные и языковые особенности пользователей. Иными словами это контейнер специальных классов — фасетов, к которому обращается программа, если ей нужно выполнить действия, зависящие от естественного языка. Полученные действия выполняют фасеты локализации.  

**Пример, в котором отображена техника подмены стандартного фасета локализации:**
```c++
#include <boost/xpressive/xpressive.hpp>
#include <iostream>
 
using namespace std;
using namespace boost::xpressive;
 
int main(int argc, char *argv[])
{
  sregex xpr = sregex::compile("мир", regex_constants::icase);
  smatch match;
  string str("ПРИВЕТ МИР!");
  if(regex_search(str, match, xpr))
    cout << "icase ok" << endl;
  else
    cout << "icase fail" << endl;
  return 0;
}
```

На одной платформе программа может выдавать различные результаты. Все дело в locale. Если предположить, что кодировка файла примера — windows-1251, то результат «icase fail» можно достичь на платформе, в которой пользовательская локаль имеет кодировку, отличную от cp1251. Самый распространенный пример такой платформы — mingw (скачанный как бинарник с sourceforge) + Windows. В таком случае, алгоритмы boost::xpressive просто не знают какие символы в расширенной части кодовой таблицы cp-1251 являются буквами.
